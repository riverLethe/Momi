# 记账 APP 低保真线框图描述

本文档通过文本描述的方式，呈现记账 APP 主要页面的低保真线框图设计，已适配**隐式家庭共享模型**。每个页面将描述其主要布局、包含的 UI 元素及其大致位置和功能。

## 1. 启动页/引导页 (Onboarding)

- **目的**: 首次启动 APP 时的品牌展示、核心功能简介，并引导用户登录/注册。
- **布局**: 多屏滑动或单屏。
  - **Logo 与标语**: APP Logo，核心价值标语 (例如：“智能记账，轻松理财，家庭共享更自动”)。
  - **功能亮点**: 简要介绍 AI 记账、**家庭空间自动共享**、消费分析等。
  - **底部**: “登录”按钮、“注册”按钮。

## 2. 首页/概览页 (Dashboard)

- **目的**: 展示用户个人或家庭财务状况的概览，提供快速操作入口。
- **布局**: 垂直滚动布局。
  - **顶部区域 (Header)**:
    - 左侧: 用户头像/昵称 (点击进入“我的”页面)。
    - 中间: **视图切换器 (View Toggle)**: “个人” / “[家庭空间名称]” (例如，Segmented Control，默认为“个人”或上次选择的家庭空间)。此切换器也决定了后续记账操作的默认上下文（个人账单或家庭账单）。
    - 右侧: “通知”图标 (铃铛状)。
  - **财务概览卡片 (Summary Card)** - _内容根据视图切换器动态变化_:
    - **个人视图**: 本人本月总支出/收入/结余，个人预算概览。
    - **家庭视图**: 该家庭空间本月总支出/收入/结余 (基于家庭空间内所有成员创建的账单)。
  - **快捷入口按钮 (Quick Actions)**:
    - “记一笔 (AI)”按钮: 导航至聊天机器人录入界面。录入的账单将根据当前首页的视图切换器状态自动归属于个人或家庭空间。
    - “手动记账”按钮: 导航至手动录入表单。录入的账单将根据当前首页的视图切换器状态自动归属于个人或家庭空间。
  - **近期账单列表 (Recent Transactions)** - _内容根据视图切换器动态变化_:
    - 标题: “最近账单 ([个人/家庭空间名称])”。
    - 列表: 显示最近 3-5 条账单摘要。家庭账单需标明创建者 (例如小头像或昵称)。
    - “查看全部”链接: 导航至完整账单列表页 (视图与当前选择一致)。
  - **消费分析图表预览 (Charts Preview - 可选)** - _内容根据视图切换器动态变化_:
    - 标题: “本月消费分析 ([个人/家庭空间名称])”。
    - 小型图表，反映当前视图的数据。
    - “查看详情”链接: 导航至消费分析/报表页 (视图与当前选择一致)。
  - **底部导航栏 (Bottom Navigation Bar)**:
    - “首页”图标 (当前选中)。
    - “账单”图标 (导航至账单列表页)。
    - “+” (记账) 悬浮按钮 (点击进入 AI 记账聊天界面)。
    - “报表”图标 (导航至消费分析/报表页)。
    - “我的”图标 (导航至“我的”页面)。

## 3. 账单录入 - 聊天机器人界面 (Chatbot Bill Entry)

- **目的**: 通过对话式交互录入账单。若用户从家庭空间视图发起，则账单自动成为家庭账单。
- **布局**: 典型的聊天应用界面。
  - **顶部区域 (Header)**:
    - 左侧: “返回”箭头图标。
    - 中间: “智能记账助理”。可能根据上下文提示“正在为[家庭空间名称]记账”或“正在记录个人账单”。
    - 右侧: “+” (手动添加账单),点击进入账单录入 - 手动添加
  - **聊天记录区域 (Chat Area)**:
    - 对话气泡。
    - 账单摘要卡片: AI 解析结果，提供“确认并保存”和“编辑”按钮。
  - **输入区域 (Input Bar - 底部固定)**:
    - 附件按钮, 文本输入框, 发送按钮。
  - **注意**: 此界面不包含手动的“共享到家庭”开关或选项。账单的归属（个人或家庭）由进入此界面的上下文（例如，从哪个视图的“+”按钮进入）决定。

## 4. 账单录入 - 手动添加/编辑界面 (Manual Bill Entry/Edit)

- **目的**: 提供结构化的表单供用户手动输入或修改账单。账单自动归属于当前操作上下文（个人或家庭空间）。
- **布局**: 全屏表单，垂直滚动。
  - **顶部区域 (Header)**:
    - 左侧: “取消”或“返回”箭头图标。
    - 中间: “添加账单”或“查看账单”/“编辑账单”标题。可能根据上下文提示“为[家庭空间名称]添加账单”或“添加个人账单”。
    - 右侧: “保存”文本按钮 (仅在添加模式或编辑自己创建的账单时可见且可用)。
  - **表单区域 (Form Area)**:
    - 金额、类别、账户(个人支付账户)、日期、时间、商户、备注等输入行。
    - **创建者信息行 (仅查看他人创建的家庭账单时显示)**:
      - “记录人:”标签 + 创建者头像/昵称。
  - **操作权限表现**:
    - **添加模式**: 所有字段可编辑，“保存”按钮可用。账单将自动归属于当前激活的上下文（个人或家庭空间）。
    - **编辑自己创建的账单**: 所有字段可编辑，“保存”按钮可用，“删除”按钮可用。
    - **查看他人创建的家庭账单**: 所有字段为只读文本显示，“保存”按钮隐藏/禁用，“删除”按钮隐藏/禁用。顶部标题可能为“查看账单”。
  - **删除按钮 (仅编辑自己创建的账单时显示，底部)**:
    - 红色背景的“删除此账单”按钮。
  - **注意**: 此界面不包含手动的“共享到家庭”开关或选项。

## 5. 账单列表页 (Bill List)

- **目的**: 展示用户个人或家庭空间的账单记录，并提供筛选、排序和搜索功能。
- **布局**: 垂直滚动列表。
  - **顶部区域 (Header)**:
    - 左侧: “返回”箭头图标或汉堡菜单。
    - 中间: **视图切换器 (View Toggle)**: “我的账单” / “[家庭空间名称]账单”。
    - 右侧: “筛选”图标 + “搜索”图标。
  - **账单列表区域 (Transaction List Area)** - _内容根据视图切换器动态变化_:
    - 按日期分组。
    - 日期标题行: 日期 + 当日总支出/收入小结 (根据当前视图)。
    - 账单条目 (List Item):
      - 左侧: 消费类别图标。
      - 中间: 商户名称/描述，支付账户(个人)，备注。
      - 右侧: 金额。
      - **家庭视图下的额外信息**: 在账单条目上用小字或图标标明创建者。
    - 点击条目导航至“账单详情页”。条目本身可有细微视觉差异提示是否可编辑（例如，自己创建的账单有小编辑图标）。
    - 左滑展示删除按钮（参考微信的左滑删除聊天条目的效果）
  - **筛选器 (展开后)**:
    - 通用筛选: 日期范围, 类别, 金额等。
    - **家庭视图下的额外筛选**: “按成员筛选” (选择家庭成员查看其记录的家庭账单)。
  - **底部导航栏**: 同首页。

## 6. 账单详情页 (Bill Detail)

- **目的**: 展示单条账单的全部详细信息，根据是否为创建者提供编辑入口。
- **布局**: 单屏。
  - **顶部区域 (Header)**:
    - 左侧: “返回”箭头图标。
    - 中间: “账单详情”标题。
    - 右侧: “编辑”图标 (铅笔状) - **仅当用户为账单创建者时可见且可用**。
  - **详情区域 (Detail Area)**:
    - 金额、商户、类别、个人支付账户、日期、时间、备注等信息。
    - **归属信息 (若为家庭账单)**: “家庭账单 - [家庭空间名称]” 或 “个人账单”。
    - **创建者信息 (若为家庭账单)**: “记录人:” + 创建者头像/昵称。
    - 关联图片。
  - **操作权限表现**: 若用户非创建者，所有信息为只读展示，“编辑”按钮不可见/禁用。

## 7. 消费分析/报表页 (Reports/Analysis)

- **目的**: 通过图表和数据汇总，帮助用户分析个人或家庭空间的消费习惯。
- **布局**: 可支持标签页切换不同报表类型，垂直滚动。
  - **顶部区域 (Header)**:
    - 左侧: “返回”或汉堡菜单。
    - 中间: **视图切换器 (View Toggle)**: “个人报表” / “[家庭空间名称]报表”。
    - 右侧: 时间周期选择器。
  - **标签页导航**: “支出分析”、“收入分析”、“趋势分析”等。
  - **图表区域 (Chart Area)** - _内容根据视图切换器和标签页动态变化_:
    - 展示对应范围（个人/家庭空间）的图表。
  - **数据列表区域**: 与图表联动的详细数据。
  - **底部导航栏**: 同首页。

## 8. 个人预算管理页 (My Budgets)

- **目的**: 允许用户设置、查看和跟踪个人各项预算的执行情况 (此功能保持个人维度，基于用户创建的所有账单)。
- **布局**: 垂直滚动列表。
  - **顶部区域 (Header)**:
    - 左侧: “返回”箭头图标。
    - 中间: “我的预算”标题。
    - 右侧: “添加预算”图标 (+号)。
  - 预算列表及详情与原设计类似，强调数据来源为“个人账单”。

## 9. “我的”页面 (My Profile/Settings Hub)

- **目的**: 用户个人中心，提供账户信息、**家庭空间管理入口**、个人预算、设置等。
- **布局**: 分组列表。
  - **顶部**: 用户头像、昵称、用户 ID。
  - **家庭空间管理组**:
    - “我的家庭空间”条目 (点击进入家庭空间管理页)。
    - (如果未加入任何家庭空间) “创建家庭空间” / “加入家庭空间”快捷入口。
  - **个人财务组**:
    - “我的预算”条目 (点击进入个人预算管理页)。
    - “我的支付账户”条目 (管理个人名下的银行卡、支付宝等)。
  - **通用设置组**:
    - “导出账单数据”条目。
    - “通知设置”条目。
    - “关于与帮助”等。
  - “退出登录”按钮。

## 10. 家庭空间管理页 (Family Space Management - 轻量化)

- **目的**: 创建、加入、管理家庭空间及成员（简化）。
- **布局**: 根据用户是否已加入家庭空间显示不同内容。
  - **未加入/创建任何家庭空间时**:
    - 提示信息：“您尚未加入任何家庭空间”。
    - “创建我的家庭空间”按钮。
    - “通过邀请码加入家庭空间”按钮 + 输入框。
  - **已加入一个或多个家庭空间时 (假设可切换当前操作的家庭空间)**:
    - **顶部**: 家庭空间选择器 (如果用户在多个家庭空间中，用下拉菜单选择当前管理的家庭空间)。当前家庭空间名称显示。
    - **家庭空间信息区**: 显示当前家庭空间名称。
    - **成员列表区**:
      - 标题“家庭成员 ([数量])”。
      - 列表展示成员头像、昵称。创建者可能有特殊标记或操作。
      - **创建者视图**: 每个成员旁有“移除”选项 (不能移除自己，除非是最后一人且要解散家庭空间)。 “邀请新成员”按钮 (生成邀请码/链接)。
      - **普通成员视图**: 无移除他人选项。
    - **操作区**:
      - “邀请码”按钮 (创建者可见，点击显示/刷新当前家庭空间的邀请码)。
      - “离开此家庭空间”按钮 (所有成员可见)。
      - “解散家庭空间”按钮 (仅限家庭空间创建者，需二次确认)。

## 11. 设置页 (App Settings - 从“我的”页面进入)

- **目的**: 提供 APP 的各项配置选项。
- **布局**: 分组列表。
  - **数据管理组**:
    - “导出账单数据”条目: 点击后询问导出“我的个人账单”或“家庭账单([家庭空间名])”。
  - 其他如通知设置、通用设置、关于帮助等与原设计类似。
